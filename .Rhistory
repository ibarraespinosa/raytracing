a
head(a)
names(a)
ggplot() +  theme_bw() +
scale_y_continuous(limits = c(-60,60)) +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(aes(x = x2, y = y0), size = 3) +
ggtitle("") +
ylab(NULL) + xlab(NULL)
geom_point(size = 3) +
ggplot(a, aes(x = x0 - 360, y = y0)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(size = 3) +
ggtitle("") +
ylab(NULL) + xlab(NULL)
names(a)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(size = 3)
a$K <- factor(a$K)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(size = 3)
facet_wrap(~direction)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(size = 3) +
facet_wrap(~direction)
' a <- ray_source(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
direction = -1)
# Simple plot:
a$x2 <- a$x0 - 360
a$K <- factor(a$K)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(size = 3) +
facet_wrap(~direction)
a <- ray_source(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
direction = -1)
# Simple plot:
a$x2 <- a$x0 - 360
a$K <- factor(a$K)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(size = 3) +
facet_wrap(~direction)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(size = 3)
# For Coelho et al. (2015):
input <- system.file("extdata",
"uwnd.mon.mean_200hPa_2014JFM.nc",
package = "raytracing")
b <- betaks(ifile = input)
a <- ray(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
K = 3,
itime = 30,
x0 = -135 + 360,
y0 = -30,
dt = 6 * 60 * 60,
direction = -1)
# Simple plot:
a$x2 <- a$x0 - 360
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(size = 3)
ggplot() +  theme_bw() +
scale_y_continuous(limits = c(-60,60)) +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0), size = 3) +
geom_line(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0)) +
ggtitle("") +
ylab(NULL) + xlab(NULL)
ggplot() +  theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0), size = 3) +
geom_line(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0)) +
ggtitle("") +
ylab(NULL) + xlab(NULL)
ggplot() +  theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0), size = 3) +
labs(x = NULL,
y = NULL,
title = NULL)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(size = 3)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
input <- system.file("extdata",
"uwnd.mon.mean_200hPa_2014JFM.nc",
package = "raytracing")
b <- betaks(ifile = input)
a <- ray_source(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
direction = -1)
# Simple plot:
a$K <- factor(a$K)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
rm(list = ls())
gc()
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K,
shape = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
input <- system.file("extdata",
"uwnd.mon.mean_200hPa_2014JFM.nc",
package = "raytracing")
b <- betaks(ifile = input)
a <- ray_source(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
direction = -1)
# Simple plot:
a$K <- factor(a$K)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K,
shape = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
names(a)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
shape = id),
size = 3)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K,
shape = id)) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3)
ggplot(a, aes(x = x0 - 360,
y = y0,
colour = K)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
ggplot(a, aes(x = x0 - 360,
y = y0)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
colour = K,
shape = id),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
ggplot(a, aes(x = x0 - 360,
y = y0,
shape = id)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
colour = K),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
ggplot(a, aes(x = x0 - 360,
y = y0)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
colour = K),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
ggplot(a, aes(x = x0 - 360,
y = y0)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
colour = K,
shape = K),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
ggplot(a, aes(x = x0 - 360,
y = y0)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
colour = K,
shape = as.factor(id)),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
rm(list = ls())
rm(list = ls())(])
gc()
devtools::load_all(".")
library(raytracing)
library(raytracing)
devtools::load_all(".")
library(raytracing)
library(raytracing)
devtools::load_all(".")
library(raytracing)
library(raytracing)
library("devtools")
use_coverage(pkg = ".", type = c("codecov"))
use_coverage(pkg = "raytracing", type = c("codecov"))
use_testthat()
use_coverage(pkg = ".", type = c("codecov"))
usethis::use_coverage()
devtools::load_all(".")
library(raytracing)
library(raytracing)
devtools::load_all(".")
library(raytracing)
devtools::load_all(".")
devtools::load_all(".")
citation("raytracing")
library(raytracing)
?ray
b <- betaks(ifile = input)
a <- ray(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
K = 3,
itime = 30,
x0 = -135 + 360,
y0 = -30,
dt = 6 * 60 * 60,
direction = -1)
input <- system.file("extdata",
"uwnd.mon.mean_200hPa_2014JFM.nc",
package = "raytracing")
b <- betaks(ifile = input)
a <- ray(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
K = 3,
itime = 30,
x0 = -135 + 360,
y0 = -30,
dt = 6 * 60 * 60,
direction = -1)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot() +  theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0), size = 3) +
labs(x = NULL,
y = NULL,
title = NULL)
}
a$x2 <- a$x0 - 360
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot() +  theme_bw() +
geom_polygon(data = ww,
aes(x = long, y = lat, group = group),
alpha = 0.0, col = "grey") +
geom_point(data = a[!(a$tun_y0 == -1 |
a$tun_y1 == -1 | a$id == 0), ],
aes(x = x2, y = y0), size = 3) +
labs(x = NULL,
y = NULL,
title = NULL)
?raytracing
?ray
?ray_source
input <- system.file("extdata",
"uwnd.mon.mean_200hPa_2014JFM.nc",
package = "raytracing")
b <- betaks(ifile = input)
a <- ray_source(betamz = colMeans(b$betam, na.rm = TRUE),
umz = colMeans(b$um, na.rm = TRUE),
lat = b$lat,
direction = -1)
# Simple plot:
a$K <- factor(a$K)
library(ggplot2)
ww <- map_data('world', ylim=c(-60,60))
ggplot(a, aes(x = x0 - 360,
y = y0)) +
geom_point(data = a[!(a$tun_y0 == -1 | a$tun_y1 == -1 | a$id == 0), ],
aes(x = x0 - 360,
y = y0,
colour = K),
size = 3) +
theme_bw() +
geom_polygon(data = ww,
aes(x = long,
y = lat,
group = group),
alpha = 0.0,
col = "grey")
citation("R")
citation("RStudio")
citation()
